## 测试的基本概念

软件测试：在特定的条件下对系统或组件进行观察或记录结果 ，对系统或组件的某些方面进行评估的过程![[Screenshot 2023-11-08 at 14.55.48.png]]

软件缺陷：现有结果与应有结果之间的差异
> 软件测试不是用来验证程序正确性，是来找程序缺陷的

软件缺陷：未完成、有错误、画蛇添足（产品说明书中未提到的功能）、隐含需求未实现、不好用

软件测试的目标：尽早找出软件缺陷，并确保缺陷得以修复

软件缺陷特征：看不到，看到但抓不到

可靠性与质量区别：可靠性只是质量的一个方面，甚至不一定是最决定性的。

软件调试与测试：
相同点：都包含有处理软件缺陷和查看代码的过程
不同点：测试的目标是发现软件缺陷的存在；调试的目标是定位与修复缺陷

测试用例（test case）是测试输入、执行条件，以及预期结果的集合，是为特定的目的开发的

软件测试的基本原则：
1.穷尽测试是不可能的；
2.测试无法显示潜在的软件缺陷；
3.测试活动应尽早进行；
4.软件缺陷具有群聚性；
5.注意杀虫剂现象；应尽量由独立的测试团队进行测试

软件质量保证人员的主要职责：创建和执行改进软件开发过程并防止软件缺陷发送的标准和方法

软件测试的目标：
1.确认系统满足其预期的使用和用户的需要。
2.确认解决了所需解决的问题
3.为测试的过程建立责任和可解释性
4.便于及早发现软件和系统的异常
5.及早提供软件和系统的性能评估
6.为管理提供真实信息，以决定在当前状态下发布产品在商业上的风险
7.鉴别出程序在功能等方面的异常聚集之处

软件测试的评估准则
- 覆盖率
	- 覆盖率=测试集合T/测试需求集合TR
- 故障插入
	- 测试前**故意**插入一些故障  发现率=发现数/插入数
- 变异分值
	- 程序进行多个变异，同样的测试用例测试，测试程序变异间差异的能力，如错误标识符、运算符

## 软件测试的主要方法
- 黑盒测试
	- 指忽略系统或组件的内部机制，仅关注于那些特定输入响应及相应执行条件的输出测试，也称功能性测试、数据驱动测试
	- 黑盒测试方法：**等价类划分、边界值分析、状态测试**
		- 等价类划分：把所有可能 输入的数据划分成若干部分，然后从每一部分中选取少数有代表的数据作为测试用例![[Screenshot 2023-11-29 at 16.20.17.png]]
		- 边界值分析：是对输入或输出的边界值进行测试。例如大于和大于等于的写错（大量的错误是发生在输入或输出范围的边界上， 而不是在输入范围的内部。）
		- 状态测试：一种基于模型的测试，是指用**状态图**来描述时间序列由此产生测试用例
- 白盒测试
	- 指考虑系统或组件内部机制的测试（如**分支测试、路径测试、语句测试等**），也称**结构性测试**
	- 把测试对象看做一个透明的盒子
	- 检查内容：所有独立执行路径至少执行一次、所有逻辑判定真假都一次、测试内部数据结构有效性等
	- 逻辑覆盖测试
		- 语句覆盖
			- 设计若干个测试用例，每一可执行语句至少执行一次
		- 条件覆盖
			- 设置若干测试用例，每个判断的每个**条件取值**至少执行一次
		- 分支覆盖
			- 每个**判断**的取真分支和取假分支至少经历一次
			- 又称为**判定覆盖**
		- 条件组合覆盖
			- 每个判断的**所有可能的条件取值组合**至少执行一次
	- 控制流图覆盖测试
		- 将**代码转换为控制流图**![[Screenshot 2023-11-08 at 15.09.45.png]]
		- 分支汇聚处要有**汇聚节点**，判断的条件表达式由复合表达式改为单个条件嵌套的判断
			- 节点覆盖
				- 与语句覆盖等价
				- 对于图G中每个语法上**可达的节点**，测试用例所执行的测试路径的集合中至少存在一条测试路径访问该节点
			- 边覆盖
				- 图中每个可达长度小于等于1的路径（一条边），每条边至少被一条测试路径经过
				- 包含节点覆盖，可实现分支覆盖
			- 路径覆盖
				- 设计足够的测试用例，覆盖程序中所有可能的路径
				- 彻底测试，不适合有循环的情况，带环路的无法穷举
				- 基本路径测试
					- 压缩循环路径数，**程序中的循环体最多只执行一次**
					- 分析环路复杂性，导出基本可执行路径集合
					- 设计出的用例，每一个执行语句至少执行一次（为每条路径生成测试用例）
					- 步骤
						- 程序环路复杂性
							- 这是确保程序中每个可执行语句至少执行一次所必需的测试用例数目的上界
							- 一条独立路径是至少包含有一条在其它独立路径中从未有过的边的路径
							- 计算：V(G)=edge-node+2  V(G)=区域个数
						- 确定线性独立路径的基本集合
							- 从源节点走到汇节点，为**基线路径**
							- 重新回溯，依次翻转判断节点上原来的路径，重复直到路径数等于V(G)
						- 为每条基本路径导出测试用例
							- 导出测试用例，确保基本路径集中的每一条路径的执行
							- 逻辑覆盖方法
							- 每个测试样例与预期结果比较
- 灰盒测试
	- 黑盒和白盒测试混合方法

## 静态测试
作用：通过对代码标准及质量的监控提高代码可靠性

尽可能早地通过对源代码的检查发现缺陷
组织代码审核定位易产生错误的模块

**静态分析类型：同事审查、走查、审查**

## 作业
1、什么是测试用例？简述软件调试与软件测试的异同点。 
2、测试覆盖率含义是什么？覆盖率100%可能吗？为什么？ 
3、列举五条及以上的软件测试目标？ 
4、什么是黑盒测试法？常用的黑盒测试方法有哪些？ 
5、阅读下面的程序，并按要求进行解答。 
```java
public String foo(int x, int y)
{ 
		boolean z; 
		if(y>10) //1
			 return "C"; //2 
		if(x<y) //3
			z=true;//4
		else z=false;//5
		if(z   //6
		  &&x+y==10) //7
			return "A"; //8
		else return "B";  //9
	 //10(汇聚)
}
```

（1）设计测试用例，达到语句覆盖标准。 
（2）设计测试用例，达到分支覆盖标准。 
![[Screenshot 2023-11-08 at 15.43.41.png]]
（3）绘出代码对应的CFG图。 
![[Screenshot 2023-11-08 at 15.44.59.png]]
（4）设计测试用例，达到节点覆盖标准。
（5）设计测试用例，进行基本路径测试。
![[Screenshot 2023-11-08 at 15.43.52.png]]