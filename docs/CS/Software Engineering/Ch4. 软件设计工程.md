## 概要
想象的事物表达为模型或文档
软件设计 连接用户需求与软件技术的桥梁
设计=适用+艺术+质量
**在*IEEE610.12-90*中，软件设计定义为软件的架构、 构件、接口和其他特性的定义过程及该过程的结果。**
软件设计师进行软件编码的基础

包含：软件架构设计、软件详细设计， 创新设计不属于软件设计![[Screenshot 2023-11-03 at 19.50.27.png]]

方法包括：结构化设计 *Structured Design SD*、面向对象的设计 *Object Oriented Design OOD* 
## 设计过程和质量
### 好的设计
- 设计必须实现在分析模型中包含的**所有明确要求**，必须满足客户所期望的**所有隐含要求**
- 设计必须是对编码人员、测试人员、后续维护人员**可读可理解**
- 设计提供软件的**完整视图**
### 软件质量描述
软件质量可以通过质量属性来描述，质量属性包括：
功能性、易用性、可靠性、性能、可支撑性
FURPS
Functionality Usability Reliability Performance Serviceability
## 设计技术
- 抽象
	- 侧重于相关的细节 忽略不相关的细节
	- 进行软件设计时，设计开始时应尽量提高软件的抽象层次，按抽象级别从高到低进行软件设计
- 细化
	- 逐步求精，与抽象相辅相成
	- 揭示底层细节 自顶向下 逐步细化 直到用程序语言语句能够实现
- 设计模式
	- 通用：在给定上下文环境中一类共同问题的共同解决方案
	- 具体：一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结
	- 创造型、结构型、行为型
- 模块化
	- 软件被划分为命名和功能相对独立的多个组件（通常称为模块），通过这些组件的集成来满足问题的需求![[Screenshot 2023-11-04 at 10.43.49.png]]
- 信息隐藏
	- 模块化的基本问题：如何达到**有效的模块划分**
	- 原则：模块应该具有彼此**相互隐藏**的特性，模块定义和设计时应当保证**模块内的信息**（过程和数据）**不可以被不需要这些信息的其他模块访问**
- 功能独立
	- 每个模块只解决了需求中特定的子功能并从程序结构的其他部分看该模块具有简单的接口
	- 错误传递次数少 **次生影响有限** 易于开发
- 重构
	- 不改变组件功能和行为条件下**简化组件设计**（或代码）的一种**重组技术**

## 设计模型
使用者角度：软件$\approx$ 功能组织+功能
设计者角度：软件$\approx$ 数据设计+架构设计+接口设计+组件设计
模型输入：软件需求的数据模型、功能模型、行为模式
![[Screenshot 2023-11-04 at 10.48.54.png]]
### 数据设计
数据设计（有时也被称为数据架构）构建**高层抽象**（客户/用户的数据视图）的**数据模型**、信息模型 。这个数据模型随后被提炼为可逐步实 现的、能被计算机系统处理的具体实现过程

软件需求分析定义的数据对象可使用E-R图和数据字典来建模。**数据设计**活动将**需求模型**的三要素**转换为** **软件组件级别的数据结构**，必要时可转换为**应用程序级**的数据库结构
- 组件级别数据设计
	- 重点是一个或多个软件组件直接访问的数据结构设计
	- 建立数据字典
### 架构（体系结构）设计
定义1：一个程序或计算机系统的软件体系结构是指**系统的一个或者多个结构**。结构中包括**软件的构件**、构件的**外部可见属性**以及它们之间的**相互关系**。外部可见属性是指软件构件提供的服务 、性能、使用特性、错误处理、共享资源使用等。强调在任一体系结构表述中“软件构件”的角色。
定义2：软件体系结构是具有一定形式的结构化元素， 即**构件的集合**，包括**处理构件、数据构件和连接构件**。处理构件负责对数据进行加工，数据 构件是被加工的信息，连接构件把体系结构的不同部分组合连接起来。
没有公认定义，是一系列**决策和基本原理的集合**
强调系统的**可理解性 可维护性 可扩展性**

> QQ 是集中式 中心服务器 中心转换 要承载高并发 服务器数量级：上百万台
> WeChat 是分布式 可扩展性更高 实现原理和邮件一样 
> QQ WX 软件体系架构不同

体系结构风格：一种倾向性的模式，包括一组构建（如数据库）连接件、约束、语义模型

框架：带有整体性的应用模式被固定为框架，特定应用领域的体系结构模式。是带实例化的完整系统，是一套解决方案。

> 做软件很难从零开始做，都是在已有的框架上去做
> 例如腾讯内部框架是微服务

#### 风格和模式分类
- 数据中心架构
	- ![[Screenshot 2023-11-04 at 14.39.53.png]]
- 数据流架构
	- ![[Screenshot 2023-11-04 at 14.40.04.png]]
- 调用和返回架构
	- 修改扩展相对容易
	- ![[Screenshot 2023-11-04 at 14.40.25.png]]
	- 深度 宽度 扇入（多的是公用模块） 扇出（多的是要控制协调很多下属模块）
- 面向对象架构
	- ![[Screenshot 2023-11-04 at 14.41.22.png]]
- 层次架构
	- ![[Screenshot 2023-11-04 at 14.41.35.png]]
#### 另一种分类
- 单主机架构
- 分布式架构
	- 多处理器
	- 客户端/服务器
		- C/S
			- 资源不对等
			- 传统的两层C/S体系结构![[Screenshot 2023-11-04 at 14.43.53.png]]
				- 瘦客户机模型，服务器负责繁重计算
					- 个人PC的计算能力用不上
				- 胖客户机模型，服务器只负责对数据的管理
					- 开发成本较高，软件维护升级困难
			- 新的三层C/S体系架构
				- 增加了应用服务器，逻辑在应用度武器，表示层在客户机。![[Screenshot 2023-11-04 at 14.46.31.png]]
				- 分为表示层、应用层、数据层![[Screenshot 2023-11-04 at 14.46.37.png]]
					- 表示层：GUI
					- 数据层：一般是关系型数据库管理系统RDBMS
		- B/S *Browser/Server*
			- ![[Screenshot 2023-11-04 at 14.47.22.png]]
			- 用通用浏览器实现了原本需要复杂软件才能实现的功能，节约开发成本。比C/S慢
	- 分布式对象体系结构
	- 代理
### 接口设计
#### 接口设计概述
包括：模块或软件构建之间的接口、软件与其他软硬件之间的接口、**软件与人（用户）之间的接口设计**
需要考虑交互细节。
#### 重要部分：用户界面设计
原则：用户控制系统（以用户为中心）；减少用户记忆负担；保持界面一致。
应具备易用性、灵活性、可靠性
用户类型：外行、初学、熟练、专家型
界面设计类型：问题描述语言、数据表格、图形与图标、菜单、对话、窗口等
考虑：使用、学习的难易程度、操作速度、复杂程度、控制、开发的难易程度
交互设计：一致性、操作步骤少、完成动作有反馈、提供Undo功能、减少人脑记忆负担、提高学习效率
### 组件设计
接近代码层次的软件抽象描述，包括了逐渐减少软件抽象层次的一系列任务
方法：
传统的：提供数据接口、接口、算法，足够详细。流程图
#### 结构化设计
给予过程，定义不复杂的算法

#### 面向对象设计
以类设计为基础的，遵循开闭原则、依赖倒置原则

## 设计实例分析
设计实例：在线招聘系统
![[Screenshot 2023-11-04 at 15.01.15.png]]
## 小结
- 设计是软件工程技术的核心
- 数据结构、体系结构、接口和软件组件的过程细节在设计中逐步细化、开发、评审和记录
- 模块化（包括程序和数据）和抽象概念能够使设计人员简化和重用软件组件
- 细化提供了详细表示各顺序功能层的机制
- 程序和数据结构有助于建立软件架构的整体视图，而过程提供了算法实现必要的细节
- 信息隐藏和功能独立为实现有效模块化提供了启发

## 作业
1、简述模块化和软件成本之间的关系（如果无限分解任务，开发该软件的工作量是否将变成足够小以至于可以忽略）？ 
2、衡量模块独立的两个标准是什么？它们各表示什么含义？ 
3、UML中用例图有那些元素构成，主要用途是什么？ 
4、程序流程图的主要缺点是什么？

